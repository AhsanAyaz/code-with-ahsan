---
phase: 09-roadmaps-discovery-rendering
plan: 01
type: execute
wave: 1
depends_on: []
files_modified:
  - src/app/roadmaps/page.tsx
  - src/components/roadmaps/RoadmapCard.tsx
  - src/components/roadmaps/RoadmapFilters.tsx
autonomous: true

must_haves:
  truths:
    - "User can see all published roadmaps in catalog view"
    - "User can search roadmaps by title and description"
    - "User can filter roadmaps by domain category"
    - "User can filter roadmaps by difficulty level"
    - "Filtered results update instantly on every input change"
    - "Each roadmap card shows domain, difficulty, author, and estimated hours"
  artifacts:
    - path: "src/app/roadmaps/page.tsx"
      provides: "Roadmap catalog page with client-side filtering"
      min_lines: 150
    - path: "src/components/roadmaps/RoadmapCard.tsx"
      provides: "Reusable roadmap card component for listings"
      min_lines: 50
    - path: "src/components/roadmaps/RoadmapFilters.tsx"
      provides: "Filter UI for domain, difficulty, and search"
      min_lines: 100
  key_links:
    - from: "src/app/roadmaps/page.tsx"
      to: "/api/roadmaps"
      via: "fetch in useEffect"
      pattern: "fetch.*api/roadmaps.*status=approved"
    - from: "src/app/roadmaps/page.tsx"
      to: "src/components/roadmaps/RoadmapCard.tsx"
      via: "component import and mapping"
      pattern: "filteredRoadmaps\\.map.*<RoadmapCard"
    - from: "src/components/roadmaps/RoadmapCard.tsx"
      to: "/roadmaps/[id]"
      via: "Link component"
      pattern: "href=.*roadmaps.*roadmap\\.id"
---

<objective>
Create public roadmap catalog page with client-side search and filtering

**Purpose:** Enable users to discover and browse published learning roadmaps by domain category, difficulty level, and search keywords

**Output:**
- Public roadmap catalog at `/roadmaps`
- Reusable `RoadmapCard` component for roadmap listings
- `RoadmapFilters` component for search and filtering UI
</objective>

<execution_context>
@/Users/amu1o5/.claude/get-shit-done/workflows/execute-plan.md
@/Users/amu1o5/.claude/get-shit-done/templates/summary.md
</execution_context>

<context>
@.planning/PROJECT.md
@.planning/ROADMAP.md
@.planning/STATE.md
@.planning/phases/09-roadmaps-discovery-rendering/09-RESEARCH.md
@.planning/phases/08-roadmaps-creation-admin/08-01-SUMMARY.md
@src/app/projects/discover/page.tsx
@src/components/projects/ProjectFilters.tsx
@src/components/projects/ProjectCard.tsx
@src/types/mentorship.ts
</context>

<tasks>

<task type="auto">
  <name>Create RoadmapCard and RoadmapFilters components</name>
  <files>
src/components/roadmaps/RoadmapCard.tsx
src/components/roadmaps/RoadmapFilters.tsx
  </files>
  <action>
Create RoadmapCard component following ProjectCard pattern from src/components/projects/ProjectCard.tsx:

**RoadmapCard.tsx:**
- Accept `{ roadmap: Roadmap }` prop
- Wrap entire card in Link to `/roadmaps/${roadmap.id}`
- Use DaisyUI card classes: `card bg-base-200 shadow-md hover:shadow-lg transition-shadow h-full cursor-pointer`
- Display:
  - Title (card-title)
  - Author (creatorProfile.displayName with photoURL if available, 24x24 rounded image)
  - Description (truncate to 150 chars, text-sm text-base-content/70)
  - Domain badge (badge-primary badge-sm)
  - Difficulty badge (badge-secondary badge-sm)
  - Estimated hours if present (text-xs text-base-content/60)
- Import types from @/types/mentorship
- Import Image from next/image for author photo

**RoadmapFilters.tsx:**
- Accept props: searchTerm, setSearchTerm, domainFilter, setDomainFilter, difficultyFilter, setDifficultyFilter
- Follow pattern from src/components/projects/ProjectFilters.tsx
- Three filter sections (space-y-4 mb-6):
  1. Search input: placeholder "Search by title or description...", input-bordered
  2. Domain dropdown: select with options "all", "web-dev", "frontend", "backend", "ml", "ai", "mcp", "agents", "prompt-engineering" with readable labels
  3. Difficulty dropdown: select with options "all", "beginner", "intermediate", "advanced"
- Use DaisyUI form-control and label classes
- Each section has label with font-semibold

Domain options mapping (from research):
```typescript
const DOMAIN_OPTIONS = [
  { value: "all", label: "All Domains" },
  { value: "web-dev", label: "Web Development" },
  { value: "frontend", label: "Frontend" },
  { value: "backend", label: "Backend" },
  { value: "ml", label: "Machine Learning" },
  { value: "ai", label: "AI" },
  { value: "mcp", label: "MCP Servers" },
  { value: "agents", label: "AI Agents" },
  { value: "prompt-engineering", label: "Prompt Engineering" },
];
```
  </action>
  <verify>
npx tsc --noEmit confirms no TypeScript errors
Components export valid React functional components
RoadmapCard imports Roadmap type correctly
RoadmapFilters imports RoadmapDomain and ProjectDifficulty types correctly
  </verify>
  <done>
RoadmapCard.tsx exists and renders roadmap metadata in card format with Link wrapper
RoadmapFilters.tsx exists with search input, domain dropdown, and difficulty dropdown
Both components follow DaisyUI styling patterns from existing project components
  </done>
</task>

<task type="auto">
  <name>Create roadmap catalog page with filtering</name>
  <files>
src/app/roadmaps/page.tsx
  </files>
  <action>
Create public roadmap catalog page following pattern from src/app/projects/discover/page.tsx:

**Page structure:**
- "use client" directive at top
- `export const dynamic = "force-dynamic"` for no static caching
- Create `RoadmapsCatalogContent` component wrapped in Suspense boundary for main export
- Fetch approved roadmaps on mount: `GET /api/roadmaps?status=approved`
- State variables:
  - roadmaps (array of Roadmap)
  - loading (boolean)
  - error (string | null)
  - searchTerm (string, NOT synced to URL params per research note)
  - domainFilter (RoadmapDomain | "all")
  - difficultyFilter (ProjectDifficulty | "all")

**Client-side filtering logic:**
```typescript
const filteredRoadmaps = roadmaps.filter((roadmap) => {
  // Search: title OR description contains searchTerm (case-insensitive)
  if (searchTerm) {
    const matches =
      roadmap.title.toLowerCase().includes(searchTerm.toLowerCase()) ||
      roadmap.description?.toLowerCase().includes(searchTerm.toLowerCase());
    if (!matches) return false;
  }

  // Domain filter
  if (domainFilter !== "all" && roadmap.domain !== domainFilter) {
    return false;
  }

  // Difficulty filter
  if (difficultyFilter !== "all" && roadmap.difficulty !== difficultyFilter) {
    return false;
  }

  return true;
});
```

**Layout:**
- Header with title "Learning Roadmaps" and subtitle about browsing curated learning paths
- Show RoadmapFilters component above grid
- Display "Showing X of Y roadmaps" count
- Grid layout: `grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6`
- Map filteredRoadmaps to RoadmapCard components
- Empty state: "No roadmaps found" centered message
- Loading state: centered loading spinner
- Error state: DaisyUI alert-error with error message

**Imports:**
- useState, useEffect, Suspense from react
- RoadmapCard from @/components/roadmaps/RoadmapCard
- RoadmapFilters from @/components/roadmaps/RoadmapFilters
- Roadmap, RoadmapDomain, ProjectDifficulty from @/types/mentorship

**Do NOT:**
- Use useSearchParams or URL param syncing (research decision: no URL params for browse experience)
- Use debounce on search (client-side filtering is instant)
- Add auth gates (public catalog)
  </action>
  <verify>
npm run build succeeds and /roadmaps route appears in output
npx tsc --noEmit shows no type errors
Page fetches from /api/roadmaps?status=approved on mount
Filtering updates instantly as user types or changes dropdowns
Empty filter state shows all approved roadmaps
Grid displays RoadmapCard components correctly
  </verify>
  <done>
/roadmaps catalog page exists and displays all approved roadmaps
Search input filters roadmaps by title and description
Domain dropdown filters by roadmap domain category
Difficulty dropdown filters by beginner/intermediate/advanced
Grid shows count "Showing X of Y roadmaps"
Cards are clickable links to /roadmaps/[id]
  </done>
</task>

</tasks>

<verification>
Manual testing:
1. Visit http://localhost:3000/roadmaps
2. Verify all approved roadmaps display in grid
3. Type in search box → results filter instantly
4. Select domain from dropdown → only matching domains show
5. Select difficulty → only matching difficulty levels show
6. Combine filters → results match ALL active filters
7. Click roadmap card → navigates to detail page (validates Link)

Build verification:
- npm run build completes without errors
- No TypeScript compilation errors
- /roadmaps route appears in build output
</verification>

<success_criteria>
- [x] Public roadmap catalog page lists all published roadmaps
- [x] Catalog filterable by domain category
- [x] Catalog filterable by difficulty level
- [x] Catalog searchable by title and description
- [x] Filtered results update instantly (client-side filtering)
- [x] Each roadmap card shows domain, difficulty, author, and estimated hours
- [x] Cards link to roadmap detail page
</success_criteria>

<output>
After completion, create `.planning/phases/09-roadmaps-discovery-rendering/09-01-SUMMARY.md`
</output>
